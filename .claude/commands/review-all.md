# 包括レビューコマンド

現在の差分全体を包括的にレビューしてください。

---

## レビュー観点

以下の観点を**すべて**網羅してください：

### 1. バグ（Bug Detection）
- ロジックエラーの有無
- Null参照・未定義変数
- 例外処理の適切性
- エッジケースの考慮

### 2. セキュリティ（Security）
- SQLインジェクションの可能性
- XSS脆弱性
- CSRF対策
- 機密情報のハードコード
- 認証・認可の不備

### 3. パフォーマンス（Performance）
- N+1クエリ
- 不要なループ処理
- メモリリーク
- 非効率なアルゴリズム

### 4. 設計整合性（Design Consistency）
- アーキテクチャパターンとの整合性
- 責務分離
- 命名規則
- DRY原則の遵守

### 5. 可読性（Readability）
- コメントの適切性
- 複雑な条件分岐
- マジックナンバー
- 変数名の明確性

---

## 出力形式

以下の形式で出力してください：

```markdown
## 総合判定
[OK / NG]

---

## 🔴 重大度High

### 1. [問題タイトル]
- **ファイル**: `path/to/file.py`
- **行番号**: 123-125
- **カテゴリ**: [バグ/セキュリティ/パフォーマンス/設計/可読性]
- **問題内容**: 
  詳細な問題の説明
- **影響範囲**: 
  どの機能に影響するか
- **推奨対応**: 
  具体的な修正方法
- **自動修復**: [可能/不可能]

### 2. [次の問題]
[同様の形式で記載]

---

## 🟡 重大度Medium

### 1. [問題タイトル]
- **ファイル**: `path/to/file.py`
- **行番号**: 45-50
- **カテゴリ**: [カテゴリ名]
- **問題内容**: 
  詳細な問題の説明
- **影響範囲**: 
  影響範囲の説明
- **推奨対応**: 
  具体的な修正方法
- **自動修復**: [可能/不可能]

---

## 🟢 重大度Low

### 1. [問題タイトル]
- **ファイル**: `path/to/file.py`
- **行番号**: 10
- **カテゴリ**: [カテゴリ名]
- **問題内容**: 
  詳細な問題の説明
- **推奨対応**: 
  具体的な修正方法
- **自動修復**: 可能

---

## 自動修復可能項目

重大度順に並べて、具体的な修正内容を記載してください。

### Medium重大度の自動修復

1. **[ファイル名] - [問題タイトル]**
   - 現状: [現在のコード]
   - 修正案: [修正後のコード]
   - 理由: [修正理由]
   - 推定時間: X分

### Low重大度の自動修復

1. **[ファイル名] - [問題タイトル]**
   - 現状: [現在のコード]
   - 修正案: [修正後のコード]
   - 理由: [修正理由]
   - 推定時間: X分

---

## 統計サマリー

- **総問題数**: X件
- **重大度High**: X件
- **重大度Medium**: X件
- **重大度Low**: X件
- **自動修復可能**: X件
- **手動対応必須**: X件

---

## 次のアクション

[総合判定がNGの場合]
1. 重大度Highの問題を優先的に対応
2. 自動修復可能な項目は `/auto-fix` コマンドで修正
3. 手動対応必須の項目は人間が対応

[総合判定がOKの場合]
コミット可能です。

---

## 補足情報

- レビュー実行時刻: [実行時刻]
- レビュー対象: `git diff` の全変更
- 基準: CLAUDE.md に定義された包括レビュー基準
```

---

## 重要な注意事項

1. **すべての観点を網羅**: 1つでも漏れがあってはなりません
2. **具体的な指摘**: 「改善が必要」ではなく、具体的な問題点と修正案を提示
3. **優先順位付け**: 重大度で明確に分類
4. **実行可能性**: 自動修復可能かどうかを明示
5. **影響範囲の評価**: 修正による影響を予測

---

## レビュー実行

上記の形式に従って、現在の `git diff` の内容を包括的にレビューしてください。
