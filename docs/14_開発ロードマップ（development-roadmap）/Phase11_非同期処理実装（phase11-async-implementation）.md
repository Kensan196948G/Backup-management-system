# Phase 11: éåŒæœŸå‡¦ç† & ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£åŸºç›¤

**å®Ÿè£…æ—¥**: 2025å¹´12æœˆ2æ—¥
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: âœ… åŸºç›¤å®Ÿè£…å®Œäº†
**æ‹…å½“**: Claude Code

---

## ğŸ“‹ æ¦‚è¦

Phase 11ã§ã¯ã€Celeryã‚¿ã‚¹ã‚¯ã‚­ãƒ¥ãƒ¼ã‚’å°å…¥ã—ã€é‡ã„å‡¦ç†ã‚’ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§éåŒæœŸå®Ÿè¡Œã§ãã‚‹åŸºç›¤ã‚’æ§‹ç¯‰ã—ã¾ã—ãŸã€‚

### ä¸»ãªå¤‰æ›´ç‚¹

| æ©Ÿèƒ½ | èª¬æ˜ | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ |
|------|------|----------|
| Celeryçµ±åˆ | ã‚¿ã‚¹ã‚¯ã‚­ãƒ¥ãƒ¼åŸºç›¤ | âœ… å®Œäº† |
| éåŒæœŸãƒ¡ãƒ¼ãƒ« | ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ãƒ¡ãƒ¼ãƒ«é€ä¿¡ | âœ… å®Œäº† |
| éåŒæœŸé€šçŸ¥ | Teams/ãƒãƒ«ãƒãƒãƒ£ãƒãƒ«é€šçŸ¥ | âœ… å®Œäº† |
| éåŒæœŸãƒ¬ãƒãƒ¼ãƒˆ | PDFç”Ÿæˆã®ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰å‡¦ç† | âœ… å®Œäº† |
| éåŒæœŸæ¤œè¨¼ | ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—æ¤œè¨¼ã‚¿ã‚¹ã‚¯ | âœ… å®Œäº† |
| ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã‚¿ã‚¹ã‚¯ | ãƒ­ã‚°ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ç­‰ | âœ… å®Œäº† |

---

## ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Flask Application                            â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚    API      â”‚  â”‚    Views    â”‚  â”‚  Services   â”‚              â”‚
â”‚  â”‚  Endpoints  â”‚  â”‚   (Web UI)  â”‚  â”‚             â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚         â”‚                â”‚                â”‚                      â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
â”‚                          â–¼                                       â”‚
â”‚                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                              â”‚
â”‚                 â”‚  Task Dispatch  â”‚                              â”‚
â”‚                 â”‚ (.apply_async)  â”‚                              â”‚
â”‚                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Redis                                      â”‚
â”‚              (Message Broker + Result Backend)                    â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   Queue:   â”‚  â”‚   Queue:   â”‚  â”‚   Queue:   â”‚  â”‚   Queue:   â”‚ â”‚
â”‚  â”‚  default   â”‚  â”‚   email    â”‚  â”‚notificationsâ”‚  â”‚  reports   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Celery Workers                                 â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                    Worker Process 1                         â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚  â”‚
â”‚  â”‚  â”‚ Thread 1 â”‚ â”‚ Thread 2 â”‚ â”‚ Thread 3 â”‚ â”‚ Thread 4 â”‚      â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                    Worker Process 2                         â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚  â”‚
â”‚  â”‚  â”‚ Thread 1 â”‚ â”‚ Thread 2 â”‚ â”‚ Thread 3 â”‚ â”‚ Thread 4 â”‚      â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

### æ–°è¦ä½œæˆãƒ•ã‚¡ã‚¤ãƒ«

```
app/
â”œâ”€â”€ celery_config.py              # Celeryè¨­å®š (ç’°å¢ƒåˆ¥)
â””â”€â”€ tasks/
    â”œâ”€â”€ __init__.py               # CeleryåˆæœŸåŒ–ãƒ»Flaskçµ±åˆ
    â”œâ”€â”€ email_tasks.py            # éåŒæœŸãƒ¡ãƒ¼ãƒ«é€ä¿¡
    â”œâ”€â”€ notification_tasks.py     # éåŒæœŸé€šçŸ¥ (Teamsç­‰)
    â”œâ”€â”€ report_tasks.py           # éåŒæœŸãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ
    â”œâ”€â”€ verification_tasks.py     # éåŒæœŸãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—æ¤œè¨¼
    â””â”€â”€ cleanup_tasks.py          # ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã‚¿ã‚¹ã‚¯

scripts/
â””â”€â”€ start_celery.sh               # Celeryãƒ¯ãƒ¼ã‚«ãƒ¼èµ·å‹•ã‚¹ã‚¯ãƒªãƒ—ãƒˆ

celery_worker.py                  # Celeryã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
```

### æ›´æ–°ãƒ•ã‚¡ã‚¤ãƒ«

```
requirements.txt                  # Celery, kombu, flowerè¿½åŠ 
```

---

## ğŸ”§ å®Ÿè£…è©³ç´°

### 1. Celeryè¨­å®š (`app/celery_config.py`)

ç’°å¢ƒåˆ¥ã®Celeryè¨­å®šã‚¯ãƒ©ã‚¹ã‚’æä¾›:

```python
class CeleryConfig:
    # Brokerè¨­å®š (Redis)
    broker_url = "redis://localhost:6379/0"
    result_backend = "redis://localhost:6379/1"

    # ã‚¿ã‚¹ã‚¯è¨­å®š
    task_serializer = "json"
    result_expires = timedelta(hours=24)

    # ã‚¿ã‚¹ã‚¯ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°
    task_routes = {
        "app.tasks.email_tasks.*": {"queue": "email"},
        "app.tasks.notification_tasks.*": {"queue": "notifications"},
        ...
    }

    # ãƒ¬ãƒ¼ãƒˆåˆ¶é™
    task_annotations = {
        "app.tasks.email_tasks.send_email": {"rate_limit": "10/m"},
    }
```

### 2. ã‚¿ã‚¹ã‚¯ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«

#### email_tasks.py

| ã‚¿ã‚¹ã‚¯ | èª¬æ˜ |
|--------|------|
| `send_email` | å˜ä¸€ãƒ¡ãƒ¼ãƒ«é€ä¿¡ (ãƒªãƒˆãƒ©ã‚¤ä»˜ã) |
| `send_bulk_emails` | ãƒãƒƒãƒãƒ¡ãƒ¼ãƒ«é€ä¿¡ |
| `send_backup_notification` | ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ™ãƒ¼ã‚¹ã®é€šçŸ¥ãƒ¡ãƒ¼ãƒ« |

#### notification_tasks.py

| ã‚¿ã‚¹ã‚¯ | èª¬æ˜ |
|--------|------|
| `send_teams_notification` | Teams Webhooké€šçŸ¥ |
| `send_multi_channel_notification` | ãƒãƒ«ãƒãƒãƒ£ãƒãƒ«é€šçŸ¥ |
| `send_backup_status_update` | ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹æ›´æ–°é€šçŸ¥ |

#### report_tasks.py

| ã‚¿ã‚¹ã‚¯ | èª¬æ˜ |
|--------|------|
| `generate_pdf_report` | PDFç”Ÿæˆ (å„ç¨®ãƒ¬ãƒãƒ¼ãƒˆã‚¿ã‚¤ãƒ—) |
| `generate_daily_report` | æ—¥æ¬¡ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ |
| `generate_monthly_report` | æœˆæ¬¡ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ |
| `schedule_report` | å®šæœŸãƒ¬ãƒãƒ¼ãƒˆã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒªãƒ³ã‚° |

#### verification_tasks.py

| ã‚¿ã‚¹ã‚¯ | èª¬æ˜ |
|--------|------|
| `verify_backup` | å˜ä¸€ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—æ¤œè¨¼ |
| `verify_all_pending` | ãƒãƒƒãƒæ¤œè¨¼ |
| `check_verification_reminders` | æ¤œè¨¼ãƒªãƒã‚¤ãƒ³ãƒ€ãƒ¼ãƒã‚§ãƒƒã‚¯ |

#### cleanup_tasks.py

| ã‚¿ã‚¹ã‚¯ | èª¬æ˜ |
|--------|------|
| `cleanup_old_logs` | å¤ã„ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«å‰Šé™¤ |
| `cleanup_old_reports` | å¤ã„ãƒ¬ãƒãƒ¼ãƒˆå‰Šé™¤ |
| `cleanup_old_notifications` | DBé€šçŸ¥ãƒ¬ã‚³ãƒ¼ãƒ‰å‰Šé™¤ |
| `vacuum_database` | ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æœ€é©åŒ– |
| `check_disk_space` | ãƒ‡ã‚£ã‚¹ã‚¯å®¹é‡ãƒã‚§ãƒƒã‚¯ |

---

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### 1. ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
pip install -r requirements.txt
```

### 2. Redisèµ·å‹•

```bash
# Dockerä½¿ç”¨
docker run -d -p 6379:6379 redis:7-alpine

# ã¾ãŸã¯ systemd
sudo systemctl start redis
```

### 3. Celeryãƒ¯ãƒ¼ã‚«ãƒ¼èµ·å‹•

```bash
# èµ·å‹•ã‚¹ã‚¯ãƒªãƒ—ãƒˆä½¿ç”¨
./scripts/start_celery.sh start

# ã¾ãŸã¯ç›´æ¥èµ·å‹•
celery -A celery_worker.celery_app worker --loglevel=INFO

# Beat (å®šæœŸã‚¿ã‚¹ã‚¯) ã‚‚èµ·å‹•
celery -A celery_worker.celery_app beat --loglevel=INFO

# Flower (ç›£è¦–UI) èµ·å‹•
celery -A celery_worker.celery_app flower --port=5555
```

### 4. ã‚¿ã‚¹ã‚¯å®Ÿè¡Œä¾‹

```python
from app.tasks.email_tasks import send_email

# éåŒæœŸã§ãƒ¡ãƒ¼ãƒ«é€ä¿¡
result = send_email.apply_async(
    kwargs={
        "to": "user@example.com",
        "subject": "Test Email",
        "html_body": "<h1>Hello</h1>",
    }
)

# ã‚¿ã‚¹ã‚¯IDå–å¾—
print(f"Task ID: {result.id}")

# çµæœå¾…æ©Ÿ (ã‚ªãƒ—ã‚·ãƒ§ãƒ³)
print(f"Result: {result.get(timeout=30)}")
```

---

## ğŸ“Š ã‚­ãƒ¥ãƒ¼æ§‹æˆ

| ã‚­ãƒ¥ãƒ¼å | ç”¨é€” | ãƒ¬ãƒ¼ãƒˆåˆ¶é™ |
|---------|------|-----------|
| `default` | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚¿ã‚¹ã‚¯ | ãªã— |
| `email` | ãƒ¡ãƒ¼ãƒ«é€ä¿¡ | 10/åˆ† |
| `notifications` | Teamsç­‰ã®é€šçŸ¥ | 30/åˆ† |
| `reports` | ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ | ãªã— |
| `verification` | ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—æ¤œè¨¼ | ãªã— |
| `maintenance` | ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã‚¿ã‚¹ã‚¯ | ãªã— |

---

## ğŸ”„ ãƒªãƒˆãƒ©ã‚¤æˆ¦ç•¥

ã™ã¹ã¦ã®ã‚¿ã‚¹ã‚¯ã«ã¯è‡ªå‹•ãƒªãƒˆãƒ©ã‚¤ãŒè¨­å®šã•ã‚Œã¦ã„ã¾ã™:

```python
@celery_app.task(
    bind=True,
    max_retries=3,               # æœ€å¤§3å›ãƒªãƒˆãƒ©ã‚¤
    default_retry_delay=60,      # 60ç§’å¾…æ©Ÿ
    autoretry_for=(Exception,),  # ä¾‹å¤–æ™‚è‡ªå‹•ãƒªãƒˆãƒ©ã‚¤
    retry_backoff=True,          # æŒ‡æ•°ãƒãƒƒã‚¯ã‚ªãƒ•
    retry_backoff_max=600,       # æœ€å¤§10åˆ†
    retry_jitter=True,           # ã‚¸ãƒƒã‚¿ãƒ¼è¿½åŠ 
)
```

---

## ğŸ“ˆ ç›£è¦–

### Flower UI

Celeryã‚¿ã‚¹ã‚¯ã®ç›£è¦–ã«Flowerã‚’ä½¿ç”¨:

```bash
celery -A celery_worker.celery_app flower --port=5555
```

ã‚¢ã‚¯ã‚»ã‚¹: http://localhost:5555

### ç›£è¦–å¯èƒ½é …ç›®

- ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã‚¿ã‚¹ã‚¯
- ã‚¿ã‚¹ã‚¯å±¥æ­´
- ãƒ¯ãƒ¼ã‚«ãƒ¼ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹
- ã‚­ãƒ¥ãƒ¼é•·
- ã‚¿ã‚¹ã‚¯æˆåŠŸ/å¤±æ•—ç‡

---

## âš ï¸ æ³¨æ„äº‹é …

### Redisè¦ä»¶

- Redis 6.xä»¥ä¸Šæ¨å¥¨
- ãƒ¡ãƒ¢ãƒª: æœ€ä½512MB
- æ°¸ç¶šåŒ–: AOFã¾ãŸã¯RDBæœ‰åŠ¹åŒ–æ¨å¥¨

### æœ¬ç•ªç’°å¢ƒè¨­å®š

```bash
# ç’°å¢ƒå¤‰æ•°è¨­å®š
export CELERY_BROKER_URL=redis://redis-server:6379/0
export CELERY_RESULT_BACKEND=redis://redis-server:6379/1
export CELERY_LOG_LEVEL=WARNING
```

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

- Redisèªè¨¼ã‚’æœ‰åŠ¹åŒ–
- TLSæ¥ç¶šã‚’æ¨å¥¨ (æœ¬ç•ªç’°å¢ƒ)
- Flower UIã«Basicèªè¨¼ã‚’è¨­å®š

---

## ğŸ“ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

### Phase 11 æ®‹ã‚Šã‚¿ã‚¹ã‚¯

1. [ ] Flask-Celeryçµ±åˆã®ãƒ†ã‚¹ãƒˆä½œæˆ
2. [ ] Flower UIã®èªè¨¼è¨­å®š
3. [ ] Docker Composeæ›´æ–° (Redisè¿½åŠ )
4. [ ] æœ¬ç•ªç’°å¢ƒãƒ‡ãƒ—ãƒ­ã‚¤ã‚¬ã‚¤ãƒ‰

### Phase 12 æº–å‚™

- PostgreSQLç§»è¡Œè¨ˆç”»ã®è©³ç´°åŒ–
- Celeryã‚¿ã‚¹ã‚¯çµæœã®PostgreSQLä¿å­˜æ¤œè¨

---

## ğŸ“š é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [Celeryå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://docs.celeryq.dev/)
- [Flask-Celeryçµ±åˆã‚¬ã‚¤ãƒ‰](https://flask.palletsprojects.com/en/2.0.x/patterns/celery/)
- [Rediså…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://redis.io/documentation)

---

**å®Ÿè£…å®Œäº†æ—¥**: 2025å¹´12æœˆ2æ—¥
**ã‚³ãƒ¼ãƒ‰è¡Œæ•°**: ç´„1,500è¡Œ (æ–°è¦)
**ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸**: æœªæ¸¬å®š (ãƒ†ã‚¹ãƒˆä½œæˆäºˆå®š)

---

ğŸ¤– Generated by Claude Code
